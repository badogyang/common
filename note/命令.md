``` shell
# R
repo init -u ssh://gerrit-cq.transsion.com:29418/UNISOC/manifests -b master -m PR651H_sprdr_int_hixos_none.xml --repo-url  ssh://gerrit-cq.transsion.com:29418/UNISOC/tools/repo --reference /opt/git/sprd --no-repo-verify

~/repo/repo forall -c "git checkout -b SC9863AR_W21.15.5_PR651H_V040 origin/SC9863AR_W21.15.5_PR651H_V040"

source build/envsetup.sh 
lunch

make -j64

cp_sign
makepac

~/repo/repo forall -c "git checkout -b sprdr_t606_int origin/sprdr_t606_int"
repo forall -c "git checkout -b SC9863AR_W21.15.5_X6511B_V011 origin/SC9863AR_W21.15.5_X6511B_V011"



#编译成as能打开的项目
cd development/tools/idegen/
mm

 croot
 ./development/tools/idegen/idegen.sh 

#Q下载示例：
repo init -u ssh://gerrit-cq.transsion.com:29418/SprdQ/manifests -b master -m L5006C_sprdq_int_none.xml    --repo-url ssh://gerrit-cq.transsion.com:29418/UNISOC/tools/repo --reference /opt/git/sprd --no-repo-verify

device/transsion/L6503/L6503.mk

1、cd vendor/sprd/release/IDH/Script

2、./build_pac.sh s9863a1h10_go_32b_2g-userdebug-gms PAC L6503

     参数一：L6503的源生工程名，通过ls  .. 可以在上一级看到源生工程名，怎么确认该选择那一个
根据pac制作完成后的提示，在vendor/sprd/release/IDH/ImageFiles和vendor/sprd/release/IDH/s9863a1h10_go_32b_2g-userdebug-gms/SUPER_SHARKL3_32b_SIGN均有

ITEL_EXTEND_PROJECT := 1h10_go
TRASSION_SPRD_PLATFORM := sp9832e
TRANSSION_2G_GO := yes


sprdr_t606_int_os8
P682L_sprdr_int
  #R下载示例：
  repo init -u ssh://gerrit-cq.transsion.com:29418/UNISOC/manifests -b master -m X6823_sprdr_t606_int_os8_none.xml --repo-url ssh://gerrit-cq.transsion.com:29418/UNISOC/tools/repo  --reference /opt/git/sprd --no-repo-verify 
  repo init -u ssh://gerrit-cq.transsion.com:29418/UNISOC/manifests -b master -m P682L_sprdr_int_none.xml --repo-url ssh://gerrit-cq.transsion.com:29418/UNISOC/tools/repo  --reference /opt/git/sprd --no-repo-verify

# S代码
repo init -u ssh://gerrit-cq.transsion.com:29418/UNISOC/manifests -b master -m sprds_int_none.xml --repo-url  ssh://gerrit-cq.transsion.com:29418/UNISOC/tools/repo  --reference /opt/git/sprd  --no-repo-verify

repo init -u ssh://gerrit-cq.transsion.com:29418/UNISOC/manifests -b master -m sprds/KH7z_sprds_int_none.xml --repo-url ssh://gerrit-cq.transsion.com:29418/UNISOC/tools/repo --reference /opt/git/sprd --no-repo-verify

repo init -u ssh://gerrit-cq.transsion.com:29418/UNISOC/manifests -b master -m sprds_int_none.xml --repo-url  ssh://gerrit.transsion.com:29418/repo --reference /opt/git/sprd --no-repo-verify
repo sync 


adb root
adb remount

find . -name "*.java" |  xargs grep "OS_Theme_Light_Dialog_Alert"
```

---

# GIT



```shell
刘晓丽 9-27 19:49:31
git stash 暂时保存本地修改
git pull --rebase 更新服务器最新代码
git stash pop 将本地修改与服务器最新代码合并
git add . (点表示添加所有修改 或者只添加对应的文件 只复制对应的文件)
git commit  添加提交信息 （git commit -s -m "bugID:xin.yang_apk_Bluetooth_fix:描述"）
git branch -a 查看当前在的分支 
git push origin HEAD:refs/for/分支  推送到服务器（git push origin HEAD:refs/for/sprdr_int）

刘晓丽 9-27 19:50:54
git log  或者 git log -2 (数字表示最近的几次提交) 查看提交记录
git reset --soft commitid 回退到commiid的那次提交 

刘晓丽 9-27 20:16:29
git commit --amend 


git commit -s -m "KGWKF-601:xin.yang_apk_Settings_fix:【重庆团队】【KG5K】【Bluetooth】更多连接方式菜单的二级小标题下蓝牙未翻译"
```



```
classpath 'com.android.tools.build:gradle:3.5.2'
distributionUrl=https\://services.gradle.org/distributions/gradle-6.1.1-bin.zip
```



ANR问题不好分析,你看看有没有可以参考的

\## 参考wiki Android ANR问题总结
http://wiki.transsion.com/pages/viewpage.action?pageId=55166681

\## 2021 ANR问题分析汇总
http://wiki.transsion.com/pages/viewpage.action?pageId=39012857

\## 常见anr问题汇总
http://wiki.transsion.com/pages/viewpage.action?pageId=39011595



# ADB

``` shell
adb shell dumpsys activity activities  #查看当前运行Activity

adb shell dumpsys window w |findstr \/ |findstr name=   #当前应用包名

adb shell "dumpsys window | grep mCurrentFocus"

adb disable-verity

adb shell rm /product/app/DtsAudio/DtsAudio.apk

adb shell pm list packages -f | grep  com.transsion.dtsaudio   # 定位文件

 adb shell pm disable-user com.transsion.dtsaudio   # 禁用
 
 adb pull /data/misc/bluetooth/logs   # HCIlog
```



## bash

```bash
find . -name "*.java" |  xargs grep "OS_Theme_Light_Dialog_Alert"
```





# 资源服务器

```shell
http://222.66.158.139:2008/cqweb/
password: Transsion123 
username:Transsion

http://box.transsion.com/l/h06a5f ( 提取码：mcnx)
```





```
@Override
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
    super.onActivityResult(requestCode, resultCode, data);
        if (requestCode == ENABLE_BLUETOOTH_REQUEST) {
            if (resultCode == RESULT_OK) {
                scan();
            } else {
                setResult(RESULT_CANCELED);
                finish();
            }
        }
}
```



3B:82:E4:8E:28:6A

http://10.250.115.120:81/SprdR/search?project=art&project=bionic&project=bootable&project=bsp&project=build&project=compatibility&project=cts&project=dalvik&project=developers&project=development&project=device&project=external&project=frameworks&project=hardware&project=kernel&project=libcore&project=libnativehelper&project=packages&project=pdk&project=platform_testing&project=prebuilts&project=sdk&project=system&project=test&project=toolchain&project=tools&project=vendor&q=从列表中清除&defs=&refs=&path=&hist=&type=xml

[ls (full) in projects: art,bionic,bootable,bsp,build,compatibility,cts,dalvik,developers,development,device,external,frameworks,hardware,kernel,libcore,libnativehelper,packages,pdk,platform_testing,prebuilts,sdk,system,test,toolchain,tools,vendor - OpenGrok search results](http://10.250.115.120:81/SprdR/search?project=art&project=bionic&project=bootable&project=bsp&project=build&project=compatibility&project=cts&project=dalvik&project=developers&project=development&project=device&project=external&project=frameworks&project=hardware&project=kernel&project=libcore&project=libnativehelper&project=packages&project=pdk&project=platform_testing&project=prebuilts&project=sdk&project=system&project=test&project=toolchain&project=tools&project=vendor&q=ls&defs=&refs=&path=&hist=&type=xml)





38 41

